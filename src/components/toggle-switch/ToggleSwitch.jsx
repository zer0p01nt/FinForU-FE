import { useState } from "react";
import * as S from "./ToggleSwitchStyle";

/**
 * 토글 스위치 컴포넌트
 * @param {object} props
 * @param {boolean} props.initialValue - 토글 초기값. 불리언 형태로 넘기기.
 * @param {() => void} props.onChange - 토글이 바뀌었을 때 실행되는 함수
 * @param {string} props.name - 토글로 제어할 값 이름
 */
export default function ToggleSwitch({ initialValue, onChange, name }) {
  const [isOn, setIsOn] = useState(initialValue);

  const handleToggle = () => {
    const newState = !isOn;
    setIsOn(newState);
    if (onChange) {
      onChange(name, newState);
    }
  };
  return (
    <S.Container onClick={handleToggle}>
      {isOn ? (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="20"
          viewBox="0 0 32 20"
          fill="none"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M31.08 9.625C31.08 7.07229 30.0967 4.62414 28.3463 2.8191C26.596 1.01406 24.222 0 21.7467 0H9.33333C6.85798 3.80383e-08 4.48401 1.01406 2.73367 2.8191C0.983331 4.62414 0 7.07229 0 9.625C0 12.1777 0.983331 14.6259 2.73367 16.4309C4.48401 18.2359 6.85798 19.25 9.33333 19.25H21.7467C24.222 19.25 26.596 18.2359 28.3463 16.4309C30.0967 14.6259 31.08 12.1777 31.08 9.625ZM21.8387 3.57225C22.6094 3.57225 23.3725 3.72879 24.0845 4.03294C24.7965 4.33708 25.4435 4.78287 25.9884 5.34486C26.5334 5.90685 26.9657 6.57402 27.2606 7.30829C27.5555 8.04256 27.7073 8.82955 27.7073 9.62431C27.7073 10.4191 27.5555 11.2061 27.2606 11.9403C26.9657 12.6746 26.5334 13.3418 25.9884 13.9038C25.4435 14.4658 24.7965 14.9115 24.0845 15.2157C23.3725 15.5198 22.6094 15.6764 21.8387 15.6764C20.2822 15.6764 18.7895 15.0388 17.6889 13.9038C16.5883 12.7688 15.97 11.2294 15.97 9.62431C15.97 8.01921 16.5883 6.47984 17.6889 5.34486C18.7895 4.20988 20.2822 3.57225 21.8387 3.57225Z"
            fill="#0093DD"
          />
        </svg>
      ) : (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="20"
          viewBox="0 0 32 20"
          fill="none"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M-4.67026e-05 9.625C-4.67026e-05 12.1777 0.983284 14.6259 2.73362 16.4309C4.48396 18.2359 6.85793 19.25 9.33329 19.25H21.7466C24.222 19.25 26.5959 18.2359 28.3463 16.4309C30.0966 14.6259 31.08 12.1777 31.08 9.625C31.08 7.07229 30.0966 4.62413 28.3463 2.8191C26.5959 1.01406 24.222 -1.63089e-06 21.7466 -1.66893e-06H9.33329C6.85793 -1.66893e-06 4.48396 1.01406 2.73362 2.8191C0.983284 4.62413 -4.67026e-05 7.07229 -4.67026e-05 9.625ZM9.24129 15.6777C8.4706 15.6777 7.70747 15.5212 6.99545 15.2171C6.28343 14.9129 5.63647 14.4671 5.09151 13.9051C4.54656 13.3432 4.11427 12.676 3.81935 11.9417C3.52442 11.2074 3.37262 10.4205 3.37262 9.62569C3.37262 8.83092 3.52442 8.04393 3.81935 7.30966C4.11427 6.57539 4.54656 5.90822 5.09151 5.34623C5.63647 4.78425 6.28343 4.33845 6.99545 4.03431C7.70747 3.73016 8.4706 3.57362 9.24129 3.57362C10.7978 3.57362 12.2905 4.21125 13.3911 5.34623C14.4917 6.48121 15.11 8.02058 15.11 9.62569C15.11 11.2308 14.4917 12.7702 13.3911 13.9051C12.2905 15.0401 10.7978 15.6777 9.24129 15.6777Z"
            fill="#979797"
          />
        </svg>
      )}
    </S.Container>
  );
}
