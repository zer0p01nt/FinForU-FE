import { useTranslation } from "react-i18next";
import * as S from "./WalletStyle";
import { useHeaderStore } from "../../stores/headerStore";
import { useCallback, useEffect, useState } from "react";
import GoToLogin from "../../components/go-to-login/GoToLogin";
import WalletModal from "./WalletModal/WalletModal";
import DeleteModal from "./DeleteModal/DeleteModal";
import api from "../../api/api";
import LoadingSpinner from "../../components/loading-spinner/LoadingSpinner";
import { helmetTitle } from "../../constants/title";

const initialWalletData = {
  walletId: null,
  checkAccount: [],
  saveAccount: [],
  cards: [],
};

export default function Wallet() {
  const { t, i18n } = useTranslation();
  const [walletData, setWalletData] = useState(initialWalletData);
  const [isDataLoading, setIsDataLoading] = useState(true);

  const fetchWalletData = useCallback(async () => {
    setIsDataLoading(true);
    try {
      const res = await api.get("/api/wallet/main");

      if (res.data.data) {
        setWalletData(res.data.data);
      } else {
        alert("Failed to get wallet data.");
        console.error(res.data.message);
        setWalletData(initialWalletData); // 데이터 초기화
      }
    } catch (error) {
      alert("Failed to get wallet data.");
      console.error(error);
      setWalletData(initialWalletData); // 데이터 초기화
    } finally {
      setIsDataLoading(false);
    }
  }, []);

  // 헤더 설정
  const setHeaderConfig = useHeaderStore((state) => state.setHeaderConfig);
  useEffect(() => {
    setHeaderConfig({
      title: t("nav.wallet"),
      showBackBtn: false, // 뒤로가기 버튼 여부
      showSettingBtn: true, // 환경설정 버튼 여부
    });
    // 월렛 데이터 로드
    fetchWalletData();
  }, [setHeaderConfig, i18n.language, fetchWalletData]);

  // 모달에 넘길 props 값
  // productType
  const productChecking = { value: "checking", label: t("checkingAccount") };
  const productSavings = { value: "savings", label: t("savingsAccount") };
  const productCard = { value: "card", label: t("card") };
  // modalType
  const modalAdd = { value: "add", label: t("add") };
  const modalEdit = { value: "edit", label: t("edit") };
  const modalDelete = { value: "delete", label: t("delete") };

  // 모달 제어용 상태
  const [modalState, setModalState] = useState({
    isOpen: false,
    type: null,
    modalType: null,
    id: null,
  });

  const closeModal = () => {
    setModalState({
      isOpen: false,
      type: null,
      modalType: null,
      id: null,
    });
  };

  const openModal = (type, modal, id = null) => {
    setModalState({
      isOpen: true,
      type: type,
      modalType: modal,
      id: id,
    });
  };

  // 로그인 상태 확인해서 비로그인 상태면 로그인 필요 컴포넌트 띄우기
  // return <GoToLogin />;
  return (
    <>
      <title>{`Wallet${helmetTitle}`}</title>
      <S.Container>
        {isDataLoading && <LoadingSpinner />}
        {modalState.isOpen &&
          modalState.type &&
          modalState.modalType &&
          (modalState.modalType.value === "add" || modalState.modalType.value === "edit" ? (
            <WalletModal
              type={modalState.type}
              modalType={modalState.modalType}
              id={modalState.id}
              onClose={closeModal}
            />
          ) : (
            <DeleteModal type={modalState.type} id={modalState.id} onClose={closeModal} />
          ))}
        <S.CheckingBox>
          <S.TextBox>
            <S.Title>{t("checkingAccount")}</S.Title>
            <S.AddBtn onClick={() => openModal(productChecking, modalAdd)}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                viewBox="0 0 14 14"
                fill="none"
              >
                <path
                  d="M0.9375 6.5625C0.9375 5.82381 1.08299 5.09236 1.36568 4.40991C1.64836 3.72745 2.06269 3.10735 2.58502 2.58502C3.10735 2.06269 3.72745 1.64836 4.40991 1.36568C5.09236 1.08299 5.82381 0.9375 6.5625 0.9375C7.30119 0.9375 8.03264 1.08299 8.71509 1.36568C9.39755 1.64836 10.0176 2.06269 10.54 2.58502C11.0623 3.10735 11.4766 3.72745 11.7593 4.40991C12.042 5.09236 12.1875 5.82381 12.1875 6.5625C12.1875 8.05434 11.5949 9.48508 10.54 10.54C9.48508 11.5949 8.05434 12.1875 6.5625 12.1875C5.07066 12.1875 3.63992 11.5949 2.58502 10.54C1.53013 9.48508 0.9375 8.05434 0.9375 6.5625ZM6.5625 0C4.82202 0 3.15282 0.691404 1.92211 1.92211C0.691404 3.15282 0 4.82202 0 6.5625C0 8.30298 0.691404 9.97218 1.92211 11.2029C3.15282 12.4336 4.82202 13.125 6.5625 13.125C8.30298 13.125 9.97218 12.4336 11.2029 11.2029C12.4336 9.97218 13.125 8.30298 13.125 6.5625C13.125 4.82202 12.4336 3.15282 11.2029 1.92211C9.97218 0.691404 8.30298 0 6.5625 0ZM7.03125 3.75C7.03125 3.62568 6.98186 3.50645 6.89396 3.41854C6.80605 3.33064 6.68682 3.28125 6.5625 3.28125C6.43818 3.28125 6.31895 3.33064 6.23104 3.41854C6.14314 3.50645 6.09375 3.62568 6.09375 3.75V6.09375H3.75C3.62568 6.09375 3.50645 6.14314 3.41854 6.23104C3.33064 6.31895 3.28125 6.43818 3.28125 6.5625C3.28125 6.68682 3.33064 6.80605 3.41854 6.89396C3.50645 6.98186 3.62568 7.03125 3.75 7.03125H6.09375V9.375C6.09375 9.49932 6.14314 9.61855 6.23104 9.70646C6.31895 9.79436 6.43818 9.84375 6.5625 9.84375C6.68682 9.84375 6.80605 9.79436 6.89396 9.70646C6.98186 9.61855 7.03125 9.49932 7.03125 9.375V7.03125H9.375C9.49932 7.03125 9.61855 6.98186 9.70646 6.89396C9.79436 6.80605 9.84375 6.68682 9.84375 6.5625C9.84375 6.43818 9.79436 6.31895 9.70646 6.23104C9.61855 6.14314 9.49932 6.09375 9.375 6.09375H7.03125V3.75Z"
                  fill="#0093DD"
                />
              </svg>
              <div>{t("add")}</div>
            </S.AddBtn>
          </S.TextBox>
          {walletData.checkAccount.length === 0 ? (
            <S.ProductBox>
              {/* checkAccount 없을 때 */}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="35"
                height="35"
                viewBox="0 0 35 35"
                fill="none"
              >
                <path
                  d="M35 17.5C35 27.165 27.165 35 17.5 35C7.83502 35 0 27.165 0 17.5C0 7.83502 7.83502 0 17.5 0C27.165 0 35 7.83502 35 17.5Z"
                  fill="#D8F2FF"
                />
                <path
                  d="M17.0208 6.95833L7.91667 11.75V13.6667H26.125V11.75M21.3333 15.5833V22.2917H24.2083V15.5833M7.91667 27.0833H26.125V24.2083H7.91667M15.5833 15.5833V22.2917H18.4583V15.5833M9.83333 15.5833V22.2917H12.7083V15.5833H9.83333Z"
                  fill="#0093DD"
                />
              </svg>
              <S.Placeholder>{t("pleaseSelect")}</S.Placeholder>
              <S.BtnWrapper>
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <path
                      d="M9.64247 3.96181L1.87747 11.7268L1.21997 15.6251L5.11914 14.9668L12.8833 7.20264L15.4308 4.65597L12.19 1.41431L9.64247 3.96181ZM9.64247 3.96181L12.8833 7.20347"
                      stroke="#919191"
                      strokeWidth="2"
                      strokeLinecap="square"
                    />
                  </svg>
                </button>
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                  >
                    <path
                      d="M2.5 15C2.04167 15 1.64945 14.8369 1.32334 14.5108C0.997225 14.1847 0.833892 13.7922 0.833336 13.3333V2.5C0.597225 2.5 0.399447 2.42 0.240003 2.26C0.0805585 2.1 0.000558429 1.90222 2.87356e-06 1.66667C-0.000552682 1.43111 0.0794474 1.23333 0.240003 1.07333C0.400559 0.913333 0.598336 0.833333 0.833336 0.833333H4.16667C4.16667 0.597222 4.24667 0.399445 4.40667 0.24C4.56667 0.0805556 4.76445 0.000555556 5 0H8.33334C8.56945 0 8.7675 0.0800001 8.9275 0.24C9.0875 0.4 9.16722 0.597778 9.16667 0.833333H12.5C12.7361 0.833333 12.9342 0.913333 13.0942 1.07333C13.2542 1.23333 13.3339 1.43111 13.3333 1.66667C13.3328 1.90222 13.2528 2.10028 13.0933 2.26083C12.9339 2.42139 12.7361 2.50111 12.5 2.5V13.3333C12.5 13.7917 12.3369 14.1842 12.0108 14.5108C11.6847 14.8375 11.2922 15.0006 10.8333 15H2.5ZM10.8333 2.5H2.5V13.3333H10.8333V2.5ZM5 11.6667C5.23611 11.6667 5.43417 11.5867 5.59417 11.4267C5.75417 11.2667 5.83389 11.0689 5.83334 10.8333V5C5.83334 4.76389 5.75334 4.56611 5.59334 4.40667C5.43334 4.24722 5.23556 4.16722 5 4.16667C4.76445 4.16611 4.56667 4.24611 4.40667 4.40667C4.24667 4.56722 4.16667 4.765 4.16667 5V10.8333C4.16667 11.0694 4.24667 11.2675 4.40667 11.4275C4.56667 11.5875 4.76445 11.6672 5 11.6667ZM8.33334 11.6667C8.56945 11.6667 8.7675 11.5867 8.9275 11.4267C9.0875 11.2667 9.16722 11.0689 9.16667 10.8333V5C9.16667 4.76389 9.08667 4.56611 8.92667 4.40667C8.76667 4.24722 8.56889 4.16722 8.33334 4.16667C8.09778 4.16611 7.9 4.24611 7.74 4.40667C7.58 4.56722 7.5 4.765 7.5 5V10.8333C7.5 11.0694 7.58 11.2675 7.74 11.4275C7.9 11.5875 8.09778 11.6672 8.33334 11.6667Z"
                      fill="#919191"
                    />
                  </svg>
                </button>
              </S.BtnWrapper>
            </S.ProductBox>
          ) : (
            walletData.checkAccount.map((account) => (
              <S.ProductBox key={account.checkingId}>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="35"
                  height="35"
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M35 17.5C35 27.165 27.165 35 17.5 35C7.83502 35 0 27.165 0 17.5C0 7.83502 7.83502 0 17.5 0C27.165 0 35 7.83502 35 17.5Z"
                    fill="#D8F2FF"
                  />
                  <path
                    d="M17.0208 6.95833L7.91667 11.75V13.6667H26.125V11.75M21.3333 15.5833V22.2917H24.2083V15.5833M7.91667 27.0833H26.125V24.2083H7.91667M15.5833 15.5833V22.2917H18.4583V15.5833M9.83333 15.5833V22.2917H12.7083V15.5833H9.83333Z"
                    fill="#0093DD"
                  />
                </svg>
                <S.Placeholder>{account.bank}</S.Placeholder>
                <S.BtnWrapper>
                  {/* 수정 버튼 */}
                  <button onClick={() => openModal(productChecking, modalEdit, account.checkingId)}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="17"
                      height="17"
                      viewBox="0 0 17 17"
                      fill="none"
                    >
                      <path
                        d="M9.64247 3.96181L1.87747 11.7268L1.21997 15.6251L5.11914 14.9668L12.8833 7.20264L15.4308 4.65597L12.19 1.41431L9.64247 3.96181ZM9.64247 3.96181L12.8833 7.20347"
                        stroke="#919191"
                        strokeWidth="2"
                        strokeLinecap="square"
                      />
                    </svg>
                  </button>
                  {/* 삭제 버튼 */}
                  <button
                    onClick={() => openModal(productChecking, modalDelete, account.checkingId)}
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="15"
                      viewBox="0 0 14 15"
                      fill="none"
                    >
                      <path
                        d="M2.5 15C2.04167 15 1.64945 14.8369 1.32334 14.5108C0.997225 14.1847 0.833892 13.7922 0.833336 13.3333V2.5C0.597225 2.5 0.399447 2.42 0.240003 2.26C0.0805585 2.1 0.000558429 1.90222 2.87356e-06 1.66667C-0.000552682 1.43111 0.0794474 1.23333 0.240003 1.07333C0.400559 0.913333 0.598336 0.833333 0.833336 0.833333H4.16667C4.16667 0.597222 4.24667 0.399445 4.40667 0.24C4.56667 0.0805556 4.76445 0.000555556 5 0H8.33334C8.56945 0 8.7675 0.0800001 8.9275 0.24C9.0875 0.4 9.16722 0.597778 9.16667 0.833333H12.5C12.7361 0.833333 12.9342 0.913333 13.0942 1.07333C13.2542 1.23333 13.3339 1.43111 13.3333 1.66667C13.3328 1.90222 13.2528 2.10028 13.0933 2.26083C12.9339 2.42139 12.7361 2.50111 12.5 2.5V13.3333C12.5 13.7917 12.3369 14.1842 12.0108 14.5108C11.6847 14.8375 11.2922 15.0006 10.8333 15H2.5ZM10.8333 2.5H2.5V13.3333H10.8333V2.5ZM5 11.6667C5.23611 11.6667 5.43417 11.5867 5.59417 11.4267C5.75417 11.2667 5.83389 11.0689 5.83334 10.8333V5C5.83334 4.76389 5.75334 4.56611 5.59334 4.40667C5.43334 4.24722 5.23556 4.16722 5 4.16667C4.76445 4.16611 4.56667 4.24611 4.40667 4.40667C4.24667 4.56722 4.16667 4.765 4.16667 5V10.8333C4.16667 11.0694 4.24667 11.2675 4.40667 11.4275C4.56667 11.5875 4.76445 11.6672 5 11.6667ZM8.33334 11.6667C8.56945 11.6667 8.7675 11.5867 8.9275 11.4267C9.0875 11.2667 9.16722 11.0689 9.16667 10.8333V5C9.16667 4.76389 9.08667 4.56611 8.92667 4.40667C8.76667 4.24722 8.56889 4.16722 8.33334 4.16667C8.09778 4.16611 7.9 4.24611 7.74 4.40667C7.58 4.56722 7.5 4.765 7.5 5V10.8333C7.5 11.0694 7.58 11.2675 7.74 11.4275C7.9 11.5875 8.09778 11.6672 8.33334 11.6667Z"
                        fill="#919191"
                      />
                    </svg>
                  </button>
                </S.BtnWrapper>
              </S.ProductBox>
            ))
          )}
        </S.CheckingBox>
        <S.SavingsBox>
          <S.TextBox>
            <S.Title>{t("savingsAccount")}</S.Title>
            <S.AddBtn onClick={() => openModal(productSavings, modalAdd)}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                viewBox="0 0 14 14"
                fill="none"
              >
                <path
                  d="M0.9375 6.5625C0.9375 5.82381 1.08299 5.09236 1.36568 4.40991C1.64836 3.72745 2.06269 3.10735 2.58502 2.58502C3.10735 2.06269 3.72745 1.64836 4.40991 1.36568C5.09236 1.08299 5.82381 0.9375 6.5625 0.9375C7.30119 0.9375 8.03264 1.08299 8.71509 1.36568C9.39755 1.64836 10.0176 2.06269 10.54 2.58502C11.0623 3.10735 11.4766 3.72745 11.7593 4.40991C12.042 5.09236 12.1875 5.82381 12.1875 6.5625C12.1875 8.05434 11.5949 9.48508 10.54 10.54C9.48508 11.5949 8.05434 12.1875 6.5625 12.1875C5.07066 12.1875 3.63992 11.5949 2.58502 10.54C1.53013 9.48508 0.9375 8.05434 0.9375 6.5625ZM6.5625 0C4.82202 0 3.15282 0.691404 1.92211 1.92211C0.691404 3.15282 0 4.82202 0 6.5625C0 8.30298 0.691404 9.97218 1.92211 11.2029C3.15282 12.4336 4.82202 13.125 6.5625 13.125C8.30298 13.125 9.97218 12.4336 11.2029 11.2029C12.4336 9.97218 13.125 8.30298 13.125 6.5625C13.125 4.82202 12.4336 3.15282 11.2029 1.92211C9.97218 0.691404 8.30298 0 6.5625 0ZM7.03125 3.75C7.03125 3.62568 6.98186 3.50645 6.89396 3.41854C6.80605 3.33064 6.68682 3.28125 6.5625 3.28125C6.43818 3.28125 6.31895 3.33064 6.23104 3.41854C6.14314 3.50645 6.09375 3.62568 6.09375 3.75V6.09375H3.75C3.62568 6.09375 3.50645 6.14314 3.41854 6.23104C3.33064 6.31895 3.28125 6.43818 3.28125 6.5625C3.28125 6.68682 3.33064 6.80605 3.41854 6.89396C3.50645 6.98186 3.62568 7.03125 3.75 7.03125H6.09375V9.375C6.09375 9.49932 6.14314 9.61855 6.23104 9.70646C6.31895 9.79436 6.43818 9.84375 6.5625 9.84375C6.68682 9.84375 6.80605 9.79436 6.89396 9.70646C6.98186 9.61855 7.03125 9.49932 7.03125 9.375V7.03125H9.375C9.49932 7.03125 9.61855 6.98186 9.70646 6.89396C9.79436 6.80605 9.84375 6.68682 9.84375 6.5625C9.84375 6.43818 9.79436 6.31895 9.70646 6.23104C9.61855 6.14314 9.49932 6.09375 9.375 6.09375H7.03125V3.75Z"
                  fill="#0093DD"
                />
              </svg>
              <div>{t("add")}</div>
            </S.AddBtn>
          </S.TextBox>
          {walletData.saveAccount.length === 0 ? (
            <S.ProductBox>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="35"
                height="35"
                viewBox="0 0 35 35"
                fill="none"
              >
                <path
                  d="M35 17.5C35 27.165 27.165 35 17.5 35C7.83502 35 0 27.165 0 17.5C0 7.83502 7.83502 0 17.5 0C27.165 0 35 7.83502 35 17.5Z"
                  fill="#CBFFDF"
                />
                <path
                  d="M22 16C22.2833 16 22.521 15.904 22.713 15.712C22.905 15.52 23.0007 15.2827 23 15C22.9993 14.7173 22.9033 14.48 22.712 14.288C22.5207 14.096 22.2833 14 22 14C21.7167 14 21.4793 14.096 21.288 14.288C21.0967 14.48 21.0007 14.7173 21 15C20.9993 15.2827 21.0953 15.5203 21.288 15.713C21.4807 15.9057 21.718 16.0013 22 16ZM14 14H19V12H14V14ZM10.5 26C9.93333 24.1 9.375 22.2043 8.825 20.313C8.275 18.4217 8 16.484 8 14.5C8 12.9667 8.53333 11.6667 9.6 10.6C10.6667 9.53333 11.9667 9 13.5 9H18.5C18.9833 8.36667 19.571 7.875 20.263 7.525C20.955 7.175 21.7007 7 22.5 7C22.9167 7 23.271 7.146 23.563 7.438C23.855 7.73 24.0007 8.084 24 8.5C24 8.6 23.9873 8.7 23.962 8.8C23.9367 8.9 23.9077 8.99167 23.875 9.075C23.8083 9.25833 23.746 9.446 23.688 9.638C23.63 9.83 23.584 10.0257 23.55 10.225L25.825 12.5H28V19.475L25.175 20.4L23.5 26H18V24H16V26H10.5ZM12 24H14V22H20V24H22L23.55 18.85L26 18.025V14.5H25L21.5 11C21.5 10.6667 21.521 10.346 21.563 10.038C21.605 9.73 21.6673 9.41733 21.75 9.1C21.2667 9.23333 20.8417 9.46267 20.475 9.788C20.1083 10.1133 19.8417 10.5173 19.675 11H13.5C12.5333 11 11.7083 11.3417 11.025 12.025C10.3417 12.7083 10 13.5333 10 14.5C10 16.1333 10.225 17.7293 10.675 19.288C11.125 20.8467 11.5667 22.4173 12 24Z"
                  fill="#00BA48"
                />
              </svg>
              <S.Placeholder>{t("pleaseSelect")}</S.Placeholder>
              <S.BtnWrapper>
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <path
                      d="M9.64247 3.96181L1.87747 11.7268L1.21997 15.6251L5.11914 14.9668L12.8833 7.20264L15.4308 4.65597L12.19 1.41431L9.64247 3.96181ZM9.64247 3.96181L12.8833 7.20347"
                      stroke="#919191"
                      strokeWidth="2"
                      strokeLinecap="square"
                    />
                  </svg>
                </button>
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                  >
                    <path
                      d="M2.5 15C2.04167 15 1.64945 14.8369 1.32334 14.5108C0.997225 14.1847 0.833892 13.7922 0.833336 13.3333V2.5C0.597225 2.5 0.399447 2.42 0.240003 2.26C0.0805585 2.1 0.000558429 1.90222 2.87356e-06 1.66667C-0.000552682 1.43111 0.0794474 1.23333 0.240003 1.07333C0.400559 0.913333 0.598336 0.833333 0.833336 0.833333H4.16667C4.16667 0.597222 4.24667 0.399445 4.40667 0.24C4.56667 0.0805556 4.76445 0.000555556 5 0H8.33334C8.56945 0 8.7675 0.0800001 8.9275 0.24C9.0875 0.4 9.16722 0.597778 9.16667 0.833333H12.5C12.7361 0.833333 12.9342 0.913333 13.0942 1.07333C13.2542 1.23333 13.3339 1.43111 13.3333 1.66667C13.3328 1.90222 13.2528 2.10028 13.0933 2.26083C12.9339 2.42139 12.7361 2.50111 12.5 2.5V13.3333C12.5 13.7917 12.3369 14.1842 12.0108 14.5108C11.6847 14.8375 11.2922 15.0006 10.8333 15H2.5ZM10.8333 2.5H2.5V13.3333H10.8333V2.5ZM5 11.6667C5.23611 11.6667 5.43417 11.5867 5.59417 11.4267C5.75417 11.2667 5.83389 11.0689 5.83334 10.8333V5C5.83334 4.76389 5.75334 4.56611 5.59334 4.40667C5.43334 4.24722 5.23556 4.16722 5 4.16667C4.76445 4.16611 4.56667 4.24611 4.40667 4.40667C4.24667 4.56722 4.16667 4.765 4.16667 5V10.8333C4.16667 11.0694 4.24667 11.2675 4.40667 11.4275C4.56667 11.5875 4.76445 11.6672 5 11.6667ZM8.33334 11.6667C8.56945 11.6667 8.7675 11.5867 8.9275 11.4267C9.0875 11.2667 9.16722 11.0689 9.16667 10.8333V5C9.16667 4.76389 9.08667 4.56611 8.92667 4.40667C8.76667 4.24722 8.56889 4.16722 8.33334 4.16667C8.09778 4.16611 7.9 4.24611 7.74 4.40667C7.58 4.56722 7.5 4.765 7.5 5V10.8333C7.5 11.0694 7.58 11.2675 7.74 11.4275C7.9 11.5875 8.09778 11.6672 8.33334 11.6667Z"
                      fill="#919191"
                    />
                  </svg>
                </button>
              </S.BtnWrapper>
            </S.ProductBox>
          ) : (
            walletData.saveAccount.map((account) => (
              <S.ProductBox key={account.savingId}>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="35"
                  height="35"
                  viewBox="0 0 35 35"
                  fill="none"
                >
                  <path
                    d="M35 17.5C35 27.165 27.165 35 17.5 35C7.83502 35 0 27.165 0 17.5C0 7.83502 7.83502 0 17.5 0C27.165 0 35 7.83502 35 17.5Z"
                    fill="#CBFFDF"
                  />
                  <path
                    d="M22 16C22.2833 16 22.521 15.904 22.713 15.712C22.905 15.52 23.0007 15.2827 23 15C22.9993 14.7173 22.9033 14.48 22.712 14.288C22.5207 14.096 22.2833 14 22 14C21.7167 14 21.4793 14.096 21.288 14.288C21.0967 14.48 21.0007 14.7173 21 15C20.9993 15.2827 21.0953 15.5203 21.288 15.713C21.4807 15.9057 21.718 16.0013 22 16ZM14 14H19V12H14V14ZM10.5 26C9.93333 24.1 9.375 22.2043 8.825 20.313C8.275 18.4217 8 16.484 8 14.5C8 12.9667 8.53333 11.6667 9.6 10.6C10.6667 9.53333 11.9667 9 13.5 9H18.5C18.9833 8.36667 19.571 7.875 20.263 7.525C20.955 7.175 21.7007 7 22.5 7C22.9167 7 23.271 7.146 23.563 7.438C23.855 7.73 24.0007 8.084 24 8.5C24 8.6 23.9873 8.7 23.962 8.8C23.9367 8.9 23.9077 8.99167 23.875 9.075C23.8083 9.25833 23.746 9.446 23.688 9.638C23.63 9.83 23.584 10.0257 23.55 10.225L25.825 12.5H28V19.475L25.175 20.4L23.5 26H18V24H16V26H10.5ZM12 24H14V22H20V24H22L23.55 18.85L26 18.025V14.5H25L21.5 11C21.5 10.6667 21.521 10.346 21.563 10.038C21.605 9.73 21.6673 9.41733 21.75 9.1C21.2667 9.23333 20.8417 9.46267 20.475 9.788C20.1083 10.1133 19.8417 10.5173 19.675 11H13.5C12.5333 11 11.7083 11.3417 11.025 12.025C10.3417 12.7083 10 13.5333 10 14.5C10 16.1333 10.225 17.7293 10.675 19.288C11.125 20.8467 11.5667 22.4173 12 24Z"
                    fill="#00BA48"
                  />
                </svg>
                <S.SavingsNCardBox>
                  <S.AccountName>{account.name}</S.AccountName>
                  <S.AccountDesc>
                    {t(`${account.savingType}`)} - {t(`banks.${account.bank}`)}
                  </S.AccountDesc>
                </S.SavingsNCardBox>
                <S.BtnWrapper>
                  {/* 수정 버튼 */}
                  <button onClick={() => openModal(productSavings, modalEdit, account.savingId)}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="17"
                      height="17"
                      viewBox="0 0 17 17"
                      fill="none"
                    >
                      <path
                        d="M9.64247 3.96181L1.87747 11.7268L1.21997 15.6251L5.11914 14.9668L12.8833 7.20264L15.4308 4.65597L12.19 1.41431L9.64247 3.96181ZM9.64247 3.96181L12.8833 7.20347"
                        stroke="#919191"
                        strokeWidth="2"
                        strokeLinecap="square"
                      />
                    </svg>
                  </button>
                  {/* 삭제 버튼 */}
                  <button onClick={() => openModal(productSavings, modalDelete, account.savingId)}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="15"
                      viewBox="0 0 14 15"
                      fill="none"
                    >
                      <path
                        d="M2.5 15C2.04167 15 1.64945 14.8369 1.32334 14.5108C0.997225 14.1847 0.833892 13.7922 0.833336 13.3333V2.5C0.597225 2.5 0.399447 2.42 0.240003 2.26C0.0805585 2.1 0.000558429 1.90222 2.87356e-06 1.66667C-0.000552682 1.43111 0.0794474 1.23333 0.240003 1.07333C0.400559 0.913333 0.598336 0.833333 0.833336 0.833333H4.16667C4.16667 0.597222 4.24667 0.399445 4.40667 0.24C4.56667 0.0805556 4.76445 0.000555556 5 0H8.33334C8.56945 0 8.7675 0.0800001 8.9275 0.24C9.0875 0.4 9.16722 0.597778 9.16667 0.833333H12.5C12.7361 0.833333 12.9342 0.913333 13.0942 1.07333C13.2542 1.23333 13.3339 1.43111 13.3333 1.66667C13.3328 1.90222 13.2528 2.10028 13.0933 2.26083C12.9339 2.42139 12.7361 2.50111 12.5 2.5V13.3333C12.5 13.7917 12.3369 14.1842 12.0108 14.5108C11.6847 14.8375 11.2922 15.0006 10.8333 15H2.5ZM10.8333 2.5H2.5V13.3333H10.8333V2.5ZM5 11.6667C5.23611 11.6667 5.43417 11.5867 5.59417 11.4267C5.75417 11.2667 5.83389 11.0689 5.83334 10.8333V5C5.83334 4.76389 5.75334 4.56611 5.59334 4.40667C5.43334 4.24722 5.23556 4.16722 5 4.16667C4.76445 4.16611 4.56667 4.24611 4.40667 4.40667C4.24667 4.56722 4.16667 4.765 4.16667 5V10.8333C4.16667 11.0694 4.24667 11.2675 4.40667 11.4275C4.56667 11.5875 4.76445 11.6672 5 11.6667ZM8.33334 11.6667C8.56945 11.6667 8.7675 11.5867 8.9275 11.4267C9.0875 11.2667 9.16722 11.0689 9.16667 10.8333V5C9.16667 4.76389 9.08667 4.56611 8.92667 4.40667C8.76667 4.24722 8.56889 4.16722 8.33334 4.16667C8.09778 4.16611 7.9 4.24611 7.74 4.40667C7.58 4.56722 7.5 4.765 7.5 5V10.8333C7.5 11.0694 7.58 11.2675 7.74 11.4275C7.9 11.5875 8.09778 11.6672 8.33334 11.6667Z"
                        fill="#919191"
                      />
                    </svg>
                  </button>
                </S.BtnWrapper>
              </S.ProductBox>
            ))
          )}
        </S.SavingsBox>
        <S.CardBox>
          <S.TextBox>
            <S.Title>{t("card")}</S.Title>
            <S.AddBtn onClick={() => openModal(productCard, modalAdd)}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                viewBox="0 0 14 14"
                fill="none"
              >
                <path
                  d="M0.9375 6.5625C0.9375 5.82381 1.08299 5.09236 1.36568 4.40991C1.64836 3.72745 2.06269 3.10735 2.58502 2.58502C3.10735 2.06269 3.72745 1.64836 4.40991 1.36568C5.09236 1.08299 5.82381 0.9375 6.5625 0.9375C7.30119 0.9375 8.03264 1.08299 8.71509 1.36568C9.39755 1.64836 10.0176 2.06269 10.54 2.58502C11.0623 3.10735 11.4766 3.72745 11.7593 4.40991C12.042 5.09236 12.1875 5.82381 12.1875 6.5625C12.1875 8.05434 11.5949 9.48508 10.54 10.54C9.48508 11.5949 8.05434 12.1875 6.5625 12.1875C5.07066 12.1875 3.63992 11.5949 2.58502 10.54C1.53013 9.48508 0.9375 8.05434 0.9375 6.5625ZM6.5625 0C4.82202 0 3.15282 0.691404 1.92211 1.92211C0.691404 3.15282 0 4.82202 0 6.5625C0 8.30298 0.691404 9.97218 1.92211 11.2029C3.15282 12.4336 4.82202 13.125 6.5625 13.125C8.30298 13.125 9.97218 12.4336 11.2029 11.2029C12.4336 9.97218 13.125 8.30298 13.125 6.5625C13.125 4.82202 12.4336 3.15282 11.2029 1.92211C9.97218 0.691404 8.30298 0 6.5625 0ZM7.03125 3.75C7.03125 3.62568 6.98186 3.50645 6.89396 3.41854C6.80605 3.33064 6.68682 3.28125 6.5625 3.28125C6.43818 3.28125 6.31895 3.33064 6.23104 3.41854C6.14314 3.50645 6.09375 3.62568 6.09375 3.75V6.09375H3.75C3.62568 6.09375 3.50645 6.14314 3.41854 6.23104C3.33064 6.31895 3.28125 6.43818 3.28125 6.5625C3.28125 6.68682 3.33064 6.80605 3.41854 6.89396C3.50645 6.98186 3.62568 7.03125 3.75 7.03125H6.09375V9.375C6.09375 9.49932 6.14314 9.61855 6.23104 9.70646C6.31895 9.79436 6.43818 9.84375 6.5625 9.84375C6.68682 9.84375 6.80605 9.79436 6.89396 9.70646C6.98186 9.61855 7.03125 9.49932 7.03125 9.375V7.03125H9.375C9.49932 7.03125 9.61855 6.98186 9.70646 6.89396C9.79436 6.80605 9.84375 6.68682 9.84375 6.5625C9.84375 6.43818 9.79436 6.31895 9.70646 6.23104C9.61855 6.14314 9.49932 6.09375 9.375 6.09375H7.03125V3.75Z"
                  fill="#0093DD"
                />
              </svg>
              <div>{t("add")}</div>
            </S.AddBtn>
          </S.TextBox>
          {walletData.cards.length === 0 ? (
            <S.ProductBox>
              <S.CardCircle>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="23"
                  height="23"
                  viewBox="0 0 23 23"
                  fill="none"
                >
                  <path
                    d="M18.3281 4.3125H4.67188C3.28253 4.3125 2.15625 5.43878 2.15625 6.82812V16.1719C2.15625 17.5612 3.28253 18.6875 4.67188 18.6875H18.3281C19.7175 18.6875 20.8438 17.5612 20.8438 16.1719V6.82812C20.8438 5.43878 19.7175 4.3125 18.3281 4.3125Z"
                    stroke="#FF8200"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M2.15625 8.625H20.8438M5.75 13.4766H7.90625V14.375H5.75V13.4766Z"
                    stroke="#FF8200"
                    strokeWidth="1.875"
                    strokeLinejoin="round"
                  />
                </svg>
              </S.CardCircle>
              <S.Placeholder>{t("pleaseSelect")}</S.Placeholder>
              <S.BtnWrapper>
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                  >
                    <path
                      d="M9.64247 3.96181L1.87747 11.7268L1.21997 15.6251L5.11914 14.9668L12.8833 7.20264L15.4308 4.65597L12.19 1.41431L9.64247 3.96181ZM9.64247 3.96181L12.8833 7.20347"
                      stroke="#919191"
                      strokeWidth="2"
                      strokeLinecap="square"
                    />
                  </svg>
                </button>
                <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="15"
                    viewBox="0 0 14 15"
                    fill="none"
                  >
                    <path
                      d="M2.5 15C2.04167 15 1.64945 14.8369 1.32334 14.5108C0.997225 14.1847 0.833892 13.7922 0.833336 13.3333V2.5C0.597225 2.5 0.399447 2.42 0.240003 2.26C0.0805585 2.1 0.000558429 1.90222 2.87356e-06 1.66667C-0.000552682 1.43111 0.0794474 1.23333 0.240003 1.07333C0.400559 0.913333 0.598336 0.833333 0.833336 0.833333H4.16667C4.16667 0.597222 4.24667 0.399445 4.40667 0.24C4.56667 0.0805556 4.76445 0.000555556 5 0H8.33334C8.56945 0 8.7675 0.0800001 8.9275 0.24C9.0875 0.4 9.16722 0.597778 9.16667 0.833333H12.5C12.7361 0.833333 12.9342 0.913333 13.0942 1.07333C13.2542 1.23333 13.3339 1.43111 13.3333 1.66667C13.3328 1.90222 13.2528 2.10028 13.0933 2.26083C12.9339 2.42139 12.7361 2.50111 12.5 2.5V13.3333C12.5 13.7917 12.3369 14.1842 12.0108 14.5108C11.6847 14.8375 11.2922 15.0006 10.8333 15H2.5ZM10.8333 2.5H2.5V13.3333H10.8333V2.5ZM5 11.6667C5.23611 11.6667 5.43417 11.5867 5.59417 11.4267C5.75417 11.2667 5.83389 11.0689 5.83334 10.8333V5C5.83334 4.76389 5.75334 4.56611 5.59334 4.40667C5.43334 4.24722 5.23556 4.16722 5 4.16667C4.76445 4.16611 4.56667 4.24611 4.40667 4.40667C4.24667 4.56722 4.16667 4.765 4.16667 5V10.8333C4.16667 11.0694 4.24667 11.2675 4.40667 11.4275C4.56667 11.5875 4.76445 11.6672 5 11.6667ZM8.33334 11.6667C8.56945 11.6667 8.7675 11.5867 8.9275 11.4267C9.0875 11.2667 9.16722 11.0689 9.16667 10.8333V5C9.16667 4.76389 9.08667 4.56611 8.92667 4.40667C8.76667 4.24722 8.56889 4.16722 8.33334 4.16667C8.09778 4.16611 7.9 4.24611 7.74 4.40667C7.58 4.56722 7.5 4.765 7.5 5V10.8333C7.5 11.0694 7.58 11.2675 7.74 11.4275C7.9 11.5875 8.09778 11.6672 8.33334 11.6667Z"
                      fill="#919191"
                    />
                  </svg>
                </button>
              </S.BtnWrapper>
            </S.ProductBox>
          ) : (
            walletData.cards.map((card) => (
              <S.ProductBox key={card.cardId}>
                <S.CardCircle>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="23"
                    height="23"
                    viewBox="0 0 23 23"
                    fill="none"
                  >
                    <path
                      d="M18.3281 4.3125H4.67188C3.28253 4.3125 2.15625 5.43878 2.15625 6.82812V16.1719C2.15625 17.5612 3.28253 18.6875 4.67188 18.6875H18.3281C19.7175 18.6875 20.8438 17.5612 20.8438 16.1719V6.82812C20.8438 5.43878 19.7175 4.3125 18.3281 4.3125Z"
                      stroke="#FF8200"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    />
                    <path
                      d="M2.15625 8.625H20.8438M5.75 13.4766H7.90625V14.375H5.75V13.4766Z"
                      stroke="#FF8200"
                      strokeWidth="1.875"
                      strokeLinejoin="round"
                    />
                  </svg>
                </S.CardCircle>
                <S.SavingsNCardBox>
                  <S.AccountName>{card.name}</S.AccountName>
                  <S.AccountDesc>
                    {t(`${card.cardType} card`)} - {t(`banks.${card.bank}`)}
                  </S.AccountDesc>
                </S.SavingsNCardBox>
                <S.BtnWrapper>
                  {/* 수정 버튼 */}
                  <button onClick={() => openModal(productCard, modalEdit, card.cardId)}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="17"
                      height="17"
                      viewBox="0 0 17 17"
                      fill="none"
                    >
                      <path
                        d="M9.64247 3.96181L1.87747 11.7268L1.21997 15.6251L5.11914 14.9668L12.8833 7.20264L15.4308 4.65597L12.19 1.41431L9.64247 3.96181ZM9.64247 3.96181L12.8833 7.20347"
                        stroke="#919191"
                        strokeWidth="2"
                        strokeLinecap="square"
                      />
                    </svg>
                  </button>
                  {/* 삭제 버튼 */}
                  <button onClick={() => openModal(productCard, modalDelete, card.cardId)}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="15"
                      viewBox="0 0 14 15"
                      fill="none"
                    >
                      <path
                        d="M2.5 15C2.04167 15 1.64945 14.8369 1.32334 14.5108C0.997225 14.1847 0.833892 13.7922 0.833336 13.3333V2.5C0.597225 2.5 0.399447 2.42 0.240003 2.26C0.0805585 2.1 0.000558429 1.90222 2.87356e-06 1.66667C-0.000552682 1.43111 0.0794474 1.23333 0.240003 1.07333C0.400559 0.913333 0.598336 0.833333 0.833336 0.833333H4.16667C4.16667 0.597222 4.24667 0.399445 4.40667 0.24C4.56667 0.0805556 4.76445 0.000555556 5 0H8.33334C8.56945 0 8.7675 0.0800001 8.9275 0.24C9.0875 0.4 9.16722 0.597778 9.16667 0.833333H12.5C12.7361 0.833333 12.9342 0.913333 13.0942 1.07333C13.2542 1.23333 13.3339 1.43111 13.3333 1.66667C13.3328 1.90222 13.2528 2.10028 13.0933 2.26083C12.9339 2.42139 12.7361 2.50111 12.5 2.5V13.3333C12.5 13.7917 12.3369 14.1842 12.0108 14.5108C11.6847 14.8375 11.2922 15.0006 10.8333 15H2.5ZM10.8333 2.5H2.5V13.3333H10.8333V2.5ZM5 11.6667C5.23611 11.6667 5.43417 11.5867 5.59417 11.4267C5.75417 11.2667 5.83389 11.0689 5.83334 10.8333V5C5.83334 4.76389 5.75334 4.56611 5.59334 4.40667C5.43334 4.24722 5.23556 4.16722 5 4.16667C4.76445 4.16611 4.56667 4.24611 4.40667 4.40667C4.24667 4.56722 4.16667 4.765 4.16667 5V10.8333C4.16667 11.0694 4.24667 11.2675 4.40667 11.4275C4.56667 11.5875 4.76445 11.6672 5 11.6667ZM8.33334 11.6667C8.56945 11.6667 8.7675 11.5867 8.9275 11.4267C9.0875 11.2667 9.16722 11.0689 9.16667 10.8333V5C9.16667 4.76389 9.08667 4.56611 8.92667 4.40667C8.76667 4.24722 8.56889 4.16722 8.33334 4.16667C8.09778 4.16611 7.9 4.24611 7.74 4.40667C7.58 4.56722 7.5 4.765 7.5 5V10.8333C7.5 11.0694 7.58 11.2675 7.74 11.4275C7.9 11.5875 8.09778 11.6672 8.33334 11.6667Z"
                        fill="#919191"
                      />
                    </svg>
                  </button>
                </S.BtnWrapper>
              </S.ProductBox>
            ))
          )}
        </S.CardBox>
      </S.Container>
    </>
  );
}
